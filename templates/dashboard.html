<!-- ================================================================
File: dashboard.html
Version: v3.5
Description: Application tracker dashboard with status updates
================================================================ -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Job Applications</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 p-6">
  <div class="max-w-6xl mx-auto">
    <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">Application Dashboard</h1>

    {% if saved_jobs %}
      <div class="grid grid-cols-1 gap-6">
        {% for job in saved_jobs %}
          <div class="bg-white p-5 shadow rounded">
            <h2 class="text-xl font-semibold text-blue-800">{{ job.title }}</h2>
            <p class="text-sm text-gray-600 mb-2">{{ job.company }} â€“ {{ job.location }}</p>
            <p class="text-sm text-gray-700 mb-2">{{ job.description[:200] }}...</p>
            <a href="{{ job.url }}" target="_blank" class="text-blue-500 underline text-sm">View Job Posting</a>

            <!-- Application Status Dropdown -->
            <form action="/update_status" method="post" class="mt-3">
              <input type="hidden" name="job_id" value="{{ job.id }}">
              <label for="status" class="block text-sm font-medium text-gray-700">Application Status:</label>
              <select name="status" class="mt-1 block w-full p-2 border rounded">
                <option value="Applied" {% if job.status == "Applied" %}selected{% endif %}>Applied</option>
                <option value="Interview Scheduled" {% if job.status == "Interview Scheduled" %}selected{% endif %}>Interview Scheduled</option>
                <option value="Offer Received" {% if job.status == "Offer Received" %}selected{% endif %}>Offer Received</option>
                <option value="Rejected" {% if job.status == "Rejected" %}selected{% endif %}>Rejected</option>
              </select>
              <button type="submit" class="mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm">Update Status</button>
            </form>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-center text-gray-500">No saved jobs yet. Start searching to track applications.</p>
    {% endif %}
  </div>
</body>
</html>
